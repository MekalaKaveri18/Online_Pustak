<app-navbar (cartClicked)="onCartAlert()" ></app-navbar>

<app-alert-popup
  [visible]="showCartAlert || showDeleteConfirm"
  [message]="showDeleteConfirm ? 'Are you sure you want to delete this book?' : alertMessage"
  [showConfirm]="showDeleteConfirm"
  (okClick)="handleOkClick()"
  (cancelClick)="onCancelDelete()">
</app-alert-popup>




<div class="container mt-4">
  
  <div *ngIf="book" class="row">
    
    <!-- Book Image -->
    <div class="col-md-4 text-center">
     <img 
  [src]="'/' + book.coverFileName" 
  alt="{{ book.title }}" 
  class="img-fluid rounded shadow" 
  (error)="onImageError($event)"
/>


    </div>

    <!-- Book Info -->
    <div class="col-md-8">
      <h2>{{ book.title }}</h2>
      <h5 class="text-muted">by {{ book.author }}</h5>
      <h4 class="text-success mt-3">â‚¹{{ book.price }}</h4>

      <!-- Buttons -->
      <div class="mt-4">
        <button class="btn btn-primary me-2" (click)="addToCart()">
          <i class="fas fa-shopping-cart"></i> Add to Cart
        </button>
        
        
      </div>
      <!-- Show these only if user is admin -->
<div *ngIf="isAdmin" class="mt-3 d-flex gap-3">
  <!-- Edit Button -->
  <button class="btn btn-warning" (click)="editBook()">
    <i class="fas fa-edit"></i> Edit
  </button>

  <!-- Delete Button -->
  <button class="btn btn-danger" (click)="deleteBook()">
    <i class="fas fa-trash-alt"></i> Delete
  </button>
</div>


      <!-- Detailed Info -->
      <div class="mt-5">
        <h5>Book Description</h5>
        <p class="text-muted">
          {{ book.description }}
        </p>
      </div>
    </div>
  </div>
</div>
